{% extends 'base.html'%}
{% load crispy_forms_tags %}

{% block content %}
<style>
  .con {
    width
  }
  .comment {
    margin-left: 70px;

  }

  .btn-outline-primary {
    border: solid;
    border-radius: 15px;
    padding: 3px 8px;
    font-size: 20px;
    background-color:white;
     transition: all 0.3s ease;
  }

  .btn-outline-primary:hover {
    background-color: #2a5298;
    color: white;
  }
</style>
<div class=" container">
<br/>
    <div class="card mb-3">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="{{ product.image.url }}" class="img-fluid rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <center>
              <h5 class="card-title">{{ product.name }}</h5>
              <p class="card-text">{{ product.description }}</p>

              {% if product.is_sale %}
              <strike>
                ${{ product.price }}
                </strike>
                ${{product.sale_price}}


              {% else%}
              ${{ product.price }}
              {% endif %}
              <br/><br/>
              <br><br/>
              <a href="{% url 'dashboard' %}" class="btn btn-outline-primary">Home</a>
              <center>
            </div>
          </div>
        </div>
      </div>
    </div>
   
<div class="comment">
<h2>Comments ({{ comments.count }})</h2>
{% for comment in comments %}
    <div>
        <strong>{{ comment.user.username }}</strong> ({{ comment.created }}):<br>
      {{ comment.body }}
    </div>
{% empty %}
    <p>No comments added yet.</p>
{% endfor %}

{% if user.is_authenticated %}
    <form method="post">
        {% csrf_token %}
        {{ form }}
        <button class="btn btn-outline-primary" type="submit">Add Comment</button>
    </form>
{% else %}
    <p>You must be logged in to comment.</p>
{% endif %}
  </div>
    </div>
</div>

{% endblock %}
